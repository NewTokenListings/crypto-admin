<!doctype html>
<html>
  <head>
    <meta charset="utf-8"/>
    <meta name="robots" content="noindex">
    <title>Redirecting...</title>
    <script>
      // SPA-friendly 404 handler:
      // - fetch index.html
      // - inject it into the document so client-side router can handle the original path
      (async function(){
        try {
          const path = window.location.pathname + window.location.search + window.location.hash;
          // Try fetching index.html from the site root
          const resp = await fetch('/index.html', { cache: 'no-store' });
          if (!resp.ok) {
            // If we can't fetch index.html, at least try a safe redirect to root
            window.location.replace('/');
            return;
          }
          const html = await resp.text();
          // Replace current document with the app's index.html content
          document.open();
          document.write(html);
          document.close();
          // Keep the original path in the address bar for the SPA router to read
          history.replaceState({}, '', path);
        } catch (err) {
          // Fallback: redirect to root
          console.error('404 -> failed to load index.html', err);
          window.location.replace('/');
        }
      })();
    </script>
  </head>
  <body>
    Redirecting...
  </body>
</html>
